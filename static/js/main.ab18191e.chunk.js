(this["webpackJsonpfirst-tz"]=this["webpackJsonpfirst-tz"]||[]).push([[0],{112:function(e,t,a){e.exports={Login:"Login_Login__1O843"}},116:function(e,t,a){e.exports={AuthForm:"AuthForm_AuthForm__34Bb-",Error:"AuthForm_Error__2dbR9"}},119:function(e,t,a){e.exports={FormikInput:"FormikInput_FormikInput__SqRmW"}},125:function(e,t,a){e.exports={Toolbar:"Header_Toolbar__3T15I"}},126:function(e,t,a){e.exports={Profile:"Profile_Profile__YwYMD"}},127:function(e,t,a){e.exports=a.p+"static/media/vk.2427b10d.svg"},128:function(e,t,a){e.exports=a.p+"static/media/twitch.ad9decfa.svg"},129:function(e,t,a){e.exports=a.p+"static/media/telegram.f647f49d.svg"},130:function(e,t,a){e.exports=a.p+"static/media/youtube.2c2eb485.svg"},131:function(e,t,a){e.exports=a.p+"static/media/web.4e84a27e.svg"},132:function(e,t,a){e.exports=a.p+"static/media/twitter.7e145c9e.svg"},133:function(e,t,a){e.exports={NewsItem:"NewsItem_NewsItem__2GSIy"}},143:function(e,t,a){e.exports=a(172)},148:function(e,t,a){},172:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),l=a(8),c=a.n(l),o=(a(148),a(112)),i=a.n(o),u=a(18),s=a(92),m=a.n(s),E=function(){return n.a.createElement("div",{className:m.a.LoaderWrapper},n.a.createElement("div",{className:m.a.Loader},n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null)))},d=a(114),p=a(115),_=a(137),f=a(135),g=a(46),S=a(116),v=a.n(S),T=a(68),O=a(119),b=a.n(O),I=a(209),h=function(e){var t=e.label,a=e.required,r=e.name,l=e.type;return n.a.createElement("div",{className:b.a.FormikInput},n.a.createElement(T.b,{required:a,name:r,type:l||"text",label:t,as:I.a,fullWidth:!0,autoComplete:"off",helperText:a?n.a.createElement(T.a,{name:r}):""}))},N=a(88),A=a(205),y=a(210),w=N.a().shape({email:N.b().required("\u042d\u0442\u043e \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435!").email("Email \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u043c!"),password:N.b().required("\u042d\u0442\u043e \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435!").min(5,"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0445\u043e\u0442\u044f \u0431\u044b 5 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432!")}),R=function(e){var t=e.emailState,a=e.loginHandler,r=e.error,l={email:t,password:""},c=r&&r.split("_").join(" ");c.match(/wrong/)&&(c="\u043d\u0435\u0432\u0435\u0440\u043d\u044b\u0435 Email \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c");return n.a.createElement("div",{className:v.a.AuthForm},n.a.createElement("h3",null,"\u0412\u043e\u0439\u0442\u0438"),n.a.createElement(T.d,{initialValues:l,onSubmit:function(e){a(e.email,e.password)},validationSchema:w},(function(e){var t=e.dirty,a=e.isValid;return n.a.createElement(T.c,null,r&&!t?n.a.createElement(A.a,{color:"error"},"\u041e\u0448\u0438\u0431\u043a\u0430: ",c):null,n.a.createElement(h,{name:"email",required:!0,type:"email",label:"Email"}),n.a.createElement(h,{name:"password",required:!0,type:"password",label:"\u041f\u0430\u0440\u043e\u043b\u044c"}),n.a.createElement(y.a,{disabled:!a||!t,variant:"contained",color:"primary",type:"submit"},"\u0412\u043e\u0439\u0442\u0438"))})))},x=a(35),L=a.n(x),H=a(62),P="PROFILE/SET_CITY",j=a(94),F="https://mysterious-reef-29460.herokuapp.com/api/v1",W=function(e){return j.get("".concat(F,"/").concat(e))},k=function(e,t){return j.post("".concat(F,"/").concat(e),t)},U=function(e){return{type:"AUTH/SET_EMAIL",payload:e}},D=function(e){return{type:"AUTH/SET_ERROR_AUTH",payload:e}},C=function(e){Object(_.a)(a,e);var t=Object(f.a)(a);function a(e){var r;Object(d.a)(this,a),r=t.call(this,e);var n=e.location,l=e.history,c=n.state?n.state.from.pathname:"/";return localStorage.getItem("auth")&&l.replace(c),r}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props,t=e.emailState,a=e.loginHandler,r=e.error;return n.a.createElement(R,{emailState:t,loginHandler:a,error:r})}}]),a}(r.Component),G=Object(g.g)(Object(u.b)((function(e){var t=e.auth;return{emailState:t.email,error:t.error}}),(function(e){return{loginHandler:function(t,a){return e(function(e,t){return function(){var a=Object(H.a)(L.a.mark((function a(r){var n,l,c,o,i,u;return L.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n={email:e,password:t},r({type:"AUTH/START_POSTING_DATA"}),a.prev=2,a.next=5,k("validate",n);case 5:return l=a.sent,a.next=8,l.data;case 8:c=a.sent,o=c.status,i=c.data,u=c.message,"ok"===o?(localStorage.setItem("auth",!0),localStorage.setItem("id",i.id),r({type:"AUTH/SET_AS_AUTH",payload:i.id})):r(D(u)),r(U(e)),a.next=21;break;case 16:a.prev=16,a.t0=a.catch(2),console.log(a.t0),r(U(e)),r(D("\u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f, \u0441\u0435\u0440\u0432\u0435\u0440 \u043d\u0435 \u043e\u0442\u0432\u0435\u0447\u0430\u0435\u0442"));case 21:r({type:"AUTH/STOP_POSTING_DATA"});case 22:case"end":return a.stop()}}),a,null,[[2,16]])})));return function(e){return a.apply(this,arguments)}}()}(t,a))}}}))(C)),q=Object(u.b)((function(e){return{loading:e.auth.loading}}),null)((function(e){var t=e.loading;return n.a.createElement("div",{className:i.a.Login},t?n.a.createElement(E,null):n.a.createElement(G,null))})),M=a(52),B=a(207),J=a(206),V=a(208),X=a(97),Y=a.n(X),z=function(e){var t=e.exact,a=e.to,r=e.children,l=e.clickHandler,c=e.activeBlocked;return n.a.createElement(M.b,{activeClassName:c?null:Y.a.active,exact:t,to:a,className:Y.a.link,onClick:l},r)},K=a(125),Z=a.n(K),Q=Object(u.b)((function(e){return{authenticated:e.auth.authenticated}}),(function(e){return{logoutHandler:function(){return e((localStorage.removeItem("id"),localStorage.removeItem("auth"),{type:"AUTH/SET_AS_NOT_AUTH"}))}}}))((function(e){var t=e.authenticated,a=e.logoutHandler;return n.a.createElement(J.a,{position:"static"},n.a.createElement(B.a,{"max-width":"lg"},n.a.createElement(V.a,{className:Z.a.Toolbar},n.a.createElement("div",null,n.a.createElement(z,{exact:!0,to:"/",children:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"}),n.a.createElement(z,{exact:!1,to:"/profile",children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"}),n.a.createElement(z,{exact:!1,to:"/news",children:"\u041d\u043e\u0432\u043e\u0441\u0442\u0438"})),n.a.createElement(z,{activeBlocked:!!t,clickHandler:t?a:function(){},exact:!0,to:t?"/":"/login",children:t?"\u0412\u044b\u0439\u0442\u0438":"\u0412\u043e\u0439\u0442\u0438"}))))})),$=a(136),ee=function(e){var t=e.component,a=Object($.a)(e,["component"]);return n.a.createElement(g.b,Object.assign({},a,{render:function(e){return localStorage.getItem("auth")?n.a.createElement(t,e):n.a.createElement(g.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},te=a(126),ae=a.n(te),re=a(69),ne=a.n(re),le=a(127),ce=a.n(le),oe=a(128),ie=a.n(oe),ue=a(129),se=a.n(ue),me=a(130),Ee=a.n(me),de=a(131),pe=a.n(de),_e=a(132),fe=a.n(_e),ge=function(e){var t=e.city,a=e.languages,r=e.social,l=e.error,c={vk:ce.a,twitch:ie.a,twitter:fe.a,telegram:se.a,youtube:Ee.a,web:pe.a};return l?n.a.createElement("div",{className:ne.a.ErrorWrapper},n.a.createElement("h2",null,l)):n.a.createElement("ul",{className:ne.a.ProfileItem},n.a.createElement("li",{className:ne.a.Item},n.a.createElement("strong",null,"\u0413\u043e\u0440\u043e\u0434:"),t),n.a.createElement("ul",{className:ne.a.Item},n.a.createElement("strong",null,"\u042f\u0437\u044b\u043a\u0438:"),a.map((function(e,t){return n.a.createElement("li",{key:t},e)}))),n.a.createElement("ul",{className:ne.a.Item},n.a.createElement("strong",null,"\u0421\u0441\u044b\u043b\u043a\u0438:"),r.map((function(e,t){return n.a.createElement("li",{key:t},n.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:e.link},n.a.createElement("img",{src:c[e.label],alt:""})))}))))},Se=Object(u.b)((function(e){var t=e.profile;return{loading:t.loading,city:t.city,languages:t.languages,social:t.social,error:t.error}}),null)((function(e){var t=e.loading,a=e.city,r=e.languages,l=e.social,c=e.error;return n.a.createElement("div",{className:ae.a.Profile},t?n.a.createElement(E,null):n.a.createElement(ge,{error:c,city:a,languages:r,social:l}))})),ve=function(e){return{type:P,payload:e}},Te=function(e){return{type:"PROFILE/SET_LANGUAGES",payload:e}},Oe=function(e){return{type:"PROFILE/SET_SOCIAL",payload:e}},be=function(e){return{type:"PROFILE/SET_ERROR_PROFILE",payload:e}},Ie=Object(u.b)((function(e){var t=e.profile;return{loaded:t.loaded,error:t.error}}),(function(e){return{fetchUserData:function(){return e(function(){var e=localStorage.getItem("id");return function(){var t=Object(H.a)(L.a.mark((function t(a){var r,n,l,c,o;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"PROFILE/START_FETCHING_USERDATA"}),t.prev=1,t.next=4,W("user-info/".concat(e));case 4:"ok"===(r=t.sent).data.status?(n=r.data.data,l=n.city,c=n.languages,o=n.social,a(ve(l)),a(Te(c)),a(Oe(o)),a({type:"PROFILE/SET_PROFILE_AS_LOADED"})):a(be("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d")),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0),a(be("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f, \u0441\u0435\u0440\u0432\u0435\u0440 \u043d\u0435 \u043e\u0442\u0432\u0435\u0447\u0430\u0435\u0442"));case 12:a({type:"PROFILE/STOP_FETCHING_USERDATA"});case 13:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}())}}}))((function(e){var t=e.loaded,a=e.fetchUserData,r=e.error;return t||r||a(),n.a.createElement(Se,null)})),he=a(98),Ne=a.n(he),Ae=a(133),ye=a.n(Ae),we=function(e){var t=e.title,a=e.text;return n.a.createElement("div",{className:ye.a.NewsItem},n.a.createElement("h4",null,t),n.a.createElement("p",null,a))},Re=Object(u.b)((function(e){var t=e.news;return{loading:t.loading,news:t.news,error:t.error}}),null)((function(e){var t=e.loading,a=e.news,r=e.error;return n.a.createElement("div",{className:Ne.a.News},t?n.a.createElement(E,null):r?n.a.createElement("div",{className:Ne.a.ErrorWrapper},n.a.createElement("h2",null,r)):a.map((function(e,t){return n.a.createElement(we,{key:t,title:e.title,text:e.text})})))})),xe=Object(u.b)((function(e){var t=e.news;return{loaded:t.loaded,error:t.error}}),(function(e){return{fetchNews:function(){return e(function(){var e=Object(H.a)(L.a.mark((function e(t){var a;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"NEWS/START_FETCHING_NEWS"}),e.prev=1,e.next=4,W("news");case 4:return a=e.sent,e.next=7,t({type:"NEWS/SET_NEWS",payload:a.data.data});case 7:t({type:"NEWS/SET_NEWS_AS_LOADED"}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0),t({type:"NEWS/SET_ERROR_NEWS",payload:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f, \u0441\u0435\u0440\u0432\u0435\u0440 \u043d\u0435 \u043e\u0442\u0432\u0435\u0447\u0430\u0435\u0442"});case 14:t({type:"NEWS/STOP_FETCHING_NEWS"});case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}())}}}))((function(e){var t=e.fetchNews,a=e.loaded,r=e.error;return a||r||t(),n.a.createElement(Re,null)})),Le=a(99),He=a.n(Le),Pe=function(){return n.a.createElement("div",{className:He.a.Information},n.a.createElement("div",{className:He.a.InformationItem},n.a.createElement("h3",null,"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u043f\u0440\u043e\u0435\u043a\u0442\u0435"),n.a.createElement("p",null,'\u0414\u043b\u044f \u0432\u0445\u043e\u0434\u0430 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443 \u0438 \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430 \u0432\u043a\u043b\u0430\u0434\u043a\u0438 "\u041f\u0440\u043e\u0444\u0438\u043b\u044c" \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u043b\u043e\u0433\u0438\u043d ',n.a.createElement("strong",null,"max@test.com")," \u0438 \u043f\u0430\u0440\u043e\u043b\u044c ",n.a.createElement("strong",null,"12345"),".",n.a.createElement("br",null),'\u042d\u0442\u043e \u043f\u0440\u043e\u0431\u043d\u043e\u0435 \u0442\u0435\u0441\u0442\u043e\u0432\u043e\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u0435. \u0414\u0430\u043d\u043d\u044b\u0435 \u0434\u043b\u044f \u0432\u0445\u043e\u0434\u0430 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u043d\u044b \u0435\u0433\u043e \u0430\u0432\u0442\u043e\u0440\u043e\u043c, \u0434\u0430\u043d\u043d\u044b\u0435 \u0432 \u0440\u0430\u0437\u0434\u0435\u043b\u0430\u0445 "\u041f\u0440\u043e\u0444\u0438\u043b\u044c" \u0438 "\u041d\u043e\u0432\u043e\u0441\u0442\u0438" \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u044b \u0447\u0435\u0440\u0435\u0437 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0439 \u0438\u043c API.',n.a.createElement("br",null),n.a.createElement("br",null),"\u041f\u0440\u0438 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435 \u0434\u0430\u043d\u043d\u043e\u0433\u043e \u043f\u0440\u043e\u0435\u043a\u0442\u0430 \u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043b \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u044b:"),n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement("strong",null,"React")," (\u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043b\u043e\u0441\u044c \u043f\u043e \u0422\u0417)"),n.a.createElement("li",null,n.a.createElement("strong",null,"Redux")," (\u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043b\u043e\u0441\u044c \u043f\u043e \u0422\u0417)"),n.a.createElement("li",null,n.a.createElement("strong",null,"Formik")),n.a.createElement("li",null,n.a.createElement("strong",null,"Material-ui")))))};var je=function(){return n.a.createElement(M.a,null,n.a.createElement(Q,null),n.a.createElement(B.a,{maxWidth:"lg"},n.a.createElement(g.d,null,n.a.createElement(g.b,{path:"/login",component:q}),n.a.createElement(g.b,{path:"/news",component:xe}),n.a.createElement(ee,{component:Ie,path:"/profile"}),n.a.createElement(g.b,{exact:!0,path:"/",component:Pe}),n.a.createElement(g.a,{from:"*",to:"/"}))))},Fe=a(42),We=a(11),ke={loading:!1,authenticated:localStorage.getItem("auth"),email:"",id:localStorage.getItem("id"),error:""},Ue={city:"",languages:[],social:[],loading:!1,loaded:!1,error:""},De={news:[],loaded:!1,loading:!1,error:""},Ce=Object(Fe.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case"AUTH/START_POSTING_DATA":return Object(We.a)({},e,{loading:!0});case"AUTH/STOP_POSTING_DATA":return Object(We.a)({},e,{loading:!1});case"AUTH/SET_AS_AUTH":return Object(We.a)({},e,{authenticated:!0,id:r});case"AUTH/SET_AS_NOT_AUTH":return Object(We.a)({},e,{authenticated:!1,id:null});case"AUTH/SET_EMAIL":return Object(We.a)({},e,{email:r});case"AUTH/SET_ERROR_AUTH":return Object(We.a)({},e,{error:r});default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue,t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case"PROFILE/START_FETCHING_USERDATA":return Object(We.a)({},e,{loading:!0});case"PROFILE/STOP_FETCHING_USERDATA":return Object(We.a)({},e,{loading:!1});case P:return Object(We.a)({},e,{city:r});case"PROFILE/SET_LANGUAGES":return Object(We.a)({},e,{languages:r});case"PROFILE/SET_SOCIAL":return Object(We.a)({},e,{social:r});case"PROFILE/SET_ERROR_PROFILE":return Object(We.a)({},e,{error:r});case"PROFILE/SET_PROFILE_AS_LOADED":return Object(We.a)({},e,{loaded:!0});default:return e}},news:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De,t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case"NEWS/START_FETCHING_NEWS":return Object(We.a)({},e,{loading:!0});case"NEWS/STOP_FETCHING_NEWS":return Object(We.a)({},e,{loading:!1});case"NEWS/SET_NEWS_AS_LOADED":return Object(We.a)({},e,{loaded:!0});case"NEWS/SET_NEWS":return Object(We.a)({},e,{news:r});case"NEWS/SET_ERROR_NEWS":return Object(We.a)({},e,{error:r});default:return e}}}),Ge=a(134),qe=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Fe.d,Me=Object(Fe.e)(Ce,qe(Object(Fe.a)(Ge.a)));c.a.render(n.a.createElement(u.a,{store:Me},n.a.createElement(je,null)),document.getElementById("root"))},69:function(e,t,a){e.exports={ProfileItem:"ProfileItem_ProfileItem__JmsHc",ErrorWrapper:"ProfileItem_ErrorWrapper__17wsZ",ItemsColumn:"ProfileItem_ItemsColumn__2bWAb",Item:"ProfileItem_Item__1Z1Mo"}},92:function(e,t,a){e.exports={LoaderWrapper:"Loader_LoaderWrapper__3F8Ki",Loader:"Loader_Loader__q74hq","lds-roller":"Loader_lds-roller__lTMgW"}},97:function(e,t,a){e.exports={link:"HeaderButton_link__3fp9p",active:"HeaderButton_active__3KXmH"}},98:function(e,t,a){e.exports={News:"News_News__3nMHk",ErrorWrapper:"News_ErrorWrapper__3TIcM"}},99:function(e,t,a){e.exports={Information:"Information_Information__3eUOI",InformationItem:"Information_InformationItem__CR5U_"}}},[[143,1,2]]]);
//# sourceMappingURL=main.ab18191e.chunk.js.map